!function(a,b){"use strict";function c(a,b){if(!a.hasChildren())return!1;for(var d=a.children(),e=0;e<d.length;e++){if(angular.isDefined(d[e].state)&&b.includes(d[e].state))return!0;if(c(d[e],b))return!0}return!1}function d(a){return{restrict:"A",scope:{menuItem:"=eehNavigationActiveMenuItem"},link:function(b,d){var e=function(){var e=c(b.menuItem,a);d.toggleClass("active",e)};b.$on("$stateChangeSuccess",e),e()}}}function e(){this._iconBaseClass="glyphicon",this._defaultIconClassPrefix="glyphicon",this._menuItems={},this._toArray=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}}function f(a){return{restrict:"A",scope:{menuItem:"=eehNavigationMenuItemContent"},templateUrl:"template/eeh-navigation/menu-item-content/eeh-navigation-menu-item-content.html",link:function(b){b.iconBaseClass=function(){return a.iconBaseClass()}}}}function g(a){return{restrict:"AE",templateUrl:"template/eeh-navigation/menu/eeh-navigation-menu.html",scope:{menuName:"=",navClass:"=?",menuItemCollapsedIconClass:"=?",menuItemExpandedIconClass:"=?",refresh:"=?"},link:function(b){b.iconBaseClass=function(){return a.iconBaseClass()},b.defaultIconClassPrefix=function(){return a.defaultIconClassPrefix()},b.navClass=b.navClass||"navigation-menu",b.menuItemCollapsedIconClass=b.menuItemCollapsedIconClass||b.defaultIconClassPrefix()+"-chevron-left",b.menuItemExpandedIconClass=b.menuItemExpandedIconClass||b.defaultIconClassPrefix()+"-chevron-down",b.refresh=function(){angular.isUndefined(b.menuName)||(b.menuItems=a.menuItemTree(b.menuName))},b.$watch(a.menuItems,b.refresh,!0)}}}function h(){return{restrict:"AE",templateUrl:"template/eeh-navigation/navbar/eeh-navigation-navbar-brand.html",scope:{text:"=",state:"=",href:"=",target:"=",src:"=",click:"="}}}function i(a){return{restrict:"AE",transclude:!0,templateUrl:"template/eeh-navigation/search-input/eeh-navigation-search-input.html",scope:{iconClass:"=",submit:"=",classes:"=",isCollapsed:"="},link:function(b){b.model={query:""},b.iconBaseClass=function(){return a.iconBaseClass()}}}}function j(a,b,c,d,e){return{restrict:"AE",transclude:!0,templateUrl:"template/eeh-navigation/sidebar/eeh-navigation-sidebar.html",scope:{menuName:"=",navClass:"=?",topOffset:"=?",menuItemCollapsedIconClass:"=?",menuItemExpandedIconClass:"=?",sidebarCollapsedIconClass:"=?",sidebarExpandedIconClass:"=?",searchInputIconClass:"=?",searchInputIsVisible:"=?",searchInputSubmit:"=",sidebarCollapsedButtonIsVisible:"=?",sidebarIsCollapsed:"=?",refresh:"=?"},link:function(f){function g(a,b){f.checkButtonState=b}function h(){var a=angular.element(document.querySelectorAll("ul.sidebar-nav:not(.sidebar-nav-nested) > li > a > span")),b=a.find("span"),c=Array.prototype.filter.call(b,function(a){return a.matches(".menu-item-text")}),d=Array.prototype.filter.call(a,function(a){return a.matches(".sidebar-arrow")}),e=angular.element(document.querySelectorAll(".eeh-navigation-sidebar"));f.sidebarIsCollapsed?(l.addClass("sidebar-text-collapsed"),e.addClass("sidebar-text-collapsed"),c.forEach(function(a){angular.element(a).addClass("hidden")}),d.forEach(function(a){angular.element(a).addClass("hidden")}),angular.forEach(i(),function(a){a.isCollapsed=!0})):(l.removeClass("sidebar-text-collapsed"),e.removeClass("sidebar-text-collapsed"),c.forEach(function(a){angular.element(a).removeClass("hidden")}),d.forEach(function(a){angular.element(a).removeClass("hidden")}))}f.compact=!0,f.notCollapsed=[],f.changeTitle=function(a){document.title=c("translate")(a.text)+": Alt App",window.innerWidth<=800&&window.innerHeight<=800&&d.$broadcast("menuCollapseStatus",!0);var b=document.getElementsByClassName("sidebar-active-collapsed");b.length>0&&(b[0].className=""),f.sidebarIsCollapsed&&(f.compact&&(f.notCollapsed=[]),e(function(){var a=document.getElementsByClassName("leaf active");a.length>0&&(a[0].parentElement.parentElement.className="sidebar-active-collapsed")},100),angular.forEach(i(),function(a){a.isCollapsed||f.notCollapsed.push(a),a.isCollapsed=!0}))},f.collapseSidebar=function(a){var b=a.isCollapsed;f.compact&&angular.forEach(i(),function(a){a.isCollapsed=!0}),a.isCollapsed=!b},f.iconBaseClass=function(){return b.iconBaseClass()},f.defaultIconClassPrefix=function(){return b.defaultIconClassPrefix()},f.topOffset=f.topOffset||51,f.navClass=f.navClass||"navbar-default",f.menuItemCollapsedIconClass=f.menuItemCollapsedIconClass||f.defaultIconClassPrefix()+"-chevron-left",f.menuItemExpandedIconClass=f.menuItemExpandedIconClass||f.defaultIconClassPrefix()+"-chevron-down",f.sidebarCollapsedIconClass=f.sidebarCollapsedIconClass||f.defaultIconClassPrefix()+"-arrow-right",f.sidebarExpandedIconClass=f.sidebarExpandedIconClass||f.defaultIconClassPrefix()+"-arrow-left",f.searchInputIconClass=f.searchInputIconClass||f.defaultIconClassPrefix()+"-search",!1!==f.sidebarCollapsedButtonIsVisible&&(f.sidebarCollapsedButtonIsVisible=!0),f.sidebarIsCollapsed=f.sidebarIsCollapsed||!1,!1!==f.searchInputIsVisible&&(f.searchInputIsVisible=!0);var i=function(){return b.menuItems()};f.refresh=function(){angular.isUndefined(f.menuName)||(f.sidebarMenuItems=b.menuItemTree(f.menuName))},f.$watch(i,f.refresh,!0);var j=angular.element(a);j.bind("resize",function(){f.$apply()}),f.checkButtonState=!0,f.$on("menuCollapseStatus",g);var k=function(){return{innerHeight:j[0].innerHeight,innerWidth:j[0].innerWidth}},l=angular.element(document.querySelectorAll("#eeh-navigation-page-wrapper"));f.$watch(k,function(b){if(!angular.isUndefined(b)){var c=b.innerHeight>0?b.innerHeight:a.screen.height;c-=f.topOffset,c<1&&(c=1),c>f.topOffset&&l.css("min-height",c+"px")}},!0),f.toggleSidebarTextCollapse=function(){if(f.sidebarIsCollapsed=!f.sidebarIsCollapsed,f.sidebarIsCollapsed){var a=document.getElementsByClassName("leaf active");a.length>0&&(a[0].parentElement.parentElement.className="sidebar-active-collapsed"),angular.forEach(i(),function(a){a.isCollapsed||f.notCollapsed.push(a)})}else{var a=document.getElementsByClassName("sidebar-active-collapsed");a.length>0&&(a[0].className=""),angular.forEach(i(),function(a){a.className=""}),f.notCollapsed.map(function(a){a.isCollapsed=!1}),f.notCollapsed=[]}h()},f.$on("$includeContentLoaded",function(){h()}),f.isSidebarVisible=function(){return f.searchInputIsVisible||angular.isArray(f.sidebarMenuItems)&&f.sidebarMenuItems.filter(function(a){return a._isVisible()}).length>0},f.topLevelMenuItemClickHandler=function(a){f.sidebarIsCollapsed&&a.hasChildren()&&f.sidebarMenuItems.filter(function(b){return b.hasChildren()&&a!==b}).forEach(function(a){a.isCollapsed=!0})}}}}d.$inject=["$state"],f.$inject=["eehNavigation"],g.$inject=["eehNavigation"],i.$inject=["eehNavigation"],j.$inject=["$window","eehNavigation","$filter","$rootScope","$timeout"],angular.module("eehNavigation",["pascalprecht.translate"]),angular.module("eehNavigation").directive("eehNavigationActiveMenuItem",d);var k=function(a){this.weight=0,this.isIconVisible=!0,this.isDivider=!1,this.isReadOnly=!1,this.ngBindHtml="",angular.extend(this,a)};k.prototype.children=function(){var a=[];return angular.forEach(this,function(b){angular.isObject(b)&&b instanceof k&&a.push(b)}),a},k.prototype.hasChildren=function(){return this.children().length>0},k.prototype._isVisible=function(){return!(!(this.children().filter(function(a){return!1!==a._isVisible()}).length>0)&&!this.isDivider&&angular.isUndefined(this.state)&&angular.isUndefined(this.href)&&angular.isUndefined(this.click)&&angular.isUndefined(this.ngInclude)&&!this.isReadOnly)&&(angular.isFunction(this.isVisible)?this.isVisible():!angular.isDefined(this.isVisible)||this.isVisible)},k.prototype.isVisible=function(){return!0},k.prototype.isHeavy=function(){if(this.hasOwnProperty("weight"))return this.weight>=0},k.prototype._ngBindHtml=function(){return angular.isFunction(this.ngBindHtml)?this.ngBindHtml():this.ngBindHtml},angular.module("eehNavigation").provider("eehNavigation",e),e.prototype.$get=function(){return this},e.prototype.iconBaseClass=function(a){return angular.isUndefined(a)?this._iconBaseClass:(this._iconBaseClass=a,this)},e.prototype.defaultIconClassPrefix=function(a){return angular.isUndefined(a)?this._defaultIconClassPrefix:(this._defaultIconClassPrefix=a,this)},e.prototype.buildAncestorChain=function(a,b,c){var d=a.split(".");if(0!==a.length&&0!==d.length){var e=d.shift();angular.isUndefined(b[e])&&(b[e]=0===d.length?c:{},0===d.length&&(b[e]=c)),this.buildAncestorChain(d.join("."),b[e],c)}},e.prototype.menuItemTree=function(a){var b={},c=this,d={};if(angular.isDefined(a)){var e=new RegExp("^"+a+".");angular.forEach(this._menuItems,function(a,b){null!==b.match(e)&&(d[b.replace(e,"")]=a)})}else d=this._menuItems;return angular.forEach(d,function(a,d){c.buildAncestorChain(d,b,a)}),this._toArray(b)},e.prototype.menuItem=function(a,b){if(angular.isUndefined(b)){if(angular.isUndefined(this._menuItems[a]))throw a+" is not a menu item";return this._menuItems[a]}return b.menuItemName=a,this._menuItems[a]=new k(b),this},e.prototype.menuItems=function(){return angular.isDefined(this)?this._menuItems:{}},angular.module("eehNavigation").directive("eehNavigationMenuItemContent",f),angular.module("eehNavigation").directive("eehNavigationMenu",g),angular.module("eehNavigation").directive("eehNavigationNavbarBrand",h);var l=function(a,b,c){return{restrict:"AE",templateUrl:"template/eeh-navigation/navbar/eeh-navigation-navbar.html",scope:{menuName:"=",navClass:"=?",containerClass:"=?",brandText:"=",brandState:"=",brandHref:"=",brandTarget:"=",brandSrc:"=",brandClick:"=",refresh:"=?"},link:function(d){function e(a,b){d.isNavbarCollapsed=b}d.iconBaseClass=function(){return c.iconBaseClass()},d.navClass=d.navClass||"navbar-default navbar-static-top",d.isNavbarCollapsed=!0,d.refresh=function(){if(!angular.isUndefined(d.menuName)){var a=c.menuItemTree(d.menuName);d.leftNavbarMenuItems=a.filter(function(a){return!a.isHeavy()}),d.rightNavbarMenuItems=a.filter(function(a){return a.isHeavy()})}},d.$watch(c.menuItems,d.refresh,!0);var f=angular.element(a);f.bind("resize",function(){d.$apply()});var g=function(){return{innerHeight:f[0].innerHeight,innerWidth:f[0].innerWidth}};d.$watch(g,function(b){if(!angular.isUndefined(b)){(b.innerWidth>0?b.innerWidth:a.screen.width)>=768&&(d.isNavbarCollapsed=!0)}},!0),d.toggleState=function(){b.$broadcast("menuCollapseStatus",!d.isNavbarCollapsed)},d.$on("menuCollapseStatus",e)}}};angular.module("eehNavigation").directive("eehNavigationNavbar",["$window","$rootScope","eehNavigation",l]),angular.module("eehNavigation").directive("eehNavigationSearchInput",i),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;--c>=0&&b.item(c)!==this;);return c>-1}),angular.module("eehNavigation").directive("eehNavigationSidebar",["$window","eehNavigation","$filter","$rootScope","$timeout",j]),b["eeh-navigation"]=a}({},function(){return this}());
//# sourceMappingURL=eeh-navigation.min.js.map